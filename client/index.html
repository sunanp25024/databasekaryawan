<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no" />
    
    <!-- PWA Meta Tags -->
    <title>SWA DATA</title>
    <meta name="description" content="SWA DATA - Sistem Manajemen Data Karyawan yang mudah dan efisien" />
    <meta name="theme-color" content="#ff6b6b" />
    <meta name="msapplication-TileColor" content="#ff6b6b" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="SWA DATA" />
    <meta name="format-detection" content="telephone=no" />
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />
    
    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="/swapro.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/swapro.png" />
    <link rel="apple-touch-icon" href="/swapro.png" />
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="/sw.js" as="script" />
  </head>
  <body>
    <!-- No JavaScript Warning -->
    <noscript>
      <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif;">
        <h2>JavaScript Required</h2>
        <p>Aplikasi ini memerlukan JavaScript untuk berfungsi dengan baik.</p>
        <p>Silakan aktifkan JavaScript di browser Anda.</p>
      </div>
    </noscript>
    
    <!-- Loading Screen -->
    <div id="app-loading" style="
      position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
      background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57);
      background-size: 400% 400%;
      animation: gradientWave 8s ease infinite;
      display: flex; align-items: center; justify-content: center; 
      flex-direction: column; color: white; font-family: 'Segoe UI', system-ui, sans-serif; z-index: 9999;
      overflow: hidden;
    ">
      <!-- Geometric Shapes Background -->
      <div style="position: absolute; width: 100%; height: 100%; overflow: hidden;">
        <div style="position: absolute; top: 20%; left: 10%; width: 100px; height: 100px; background: rgba(255,255,255,0.1); clip-path: polygon(50% 0%, 0% 100%, 100% 100%); animation: floatShape1 6s ease-in-out infinite;"></div>
        <div style="position: absolute; top: 60%; right: 15%; width: 80px; height: 80px; background: rgba(255,255,255,0.15); border-radius: 50%; animation: floatShape2 8s ease-in-out infinite;"></div>
        <div style="position: absolute; bottom: 30%; left: 20%; width: 60px; height: 60px; background: rgba(255,255,255,0.1); transform: rotate(45deg); animation: floatShape3 7s ease-in-out infinite;"></div>
        <div style="position: absolute; top: 40%; right: 40%; width: 120px; height: 120px; border: 3px solid rgba(255,255,255,0.1); border-radius: 50%; animation: floatShape4 9s ease-in-out infinite;"></div>
      </div>
      
      <!-- Main Content -->
      <div style="position: relative; z-index: 10; text-align: center;">
        <!-- Logo Container with Morphing Border -->
        <div style="
          margin-bottom: 50px; 
          position: relative;
          padding: 30px;
        ">
          <!-- Morphing Border -->
          <div style="
            position: absolute; 
            top: 0; left: 0; right: 0; bottom: 0;
            border: 4px solid transparent;
            background: linear-gradient(45deg, rgba(255,107,107,0.6), rgba(78,205,196,0.6), rgba(69,183,209,0.6)) border-box;
            background-clip: padding-box;
            border-radius: 30px;
            animation: morphBorder 4s ease-in-out infinite;
          "></div>
          
          <!-- Logo with Bounce Effect -->
          <img src="/swapro.png" alt="SWA DATA" style="
            width: 160px; 
            height: auto; 
            filter: drop-shadow(0 20px 40px rgba(0,0,0,0.3)) contrast(1.1) saturate(1.2);
            position: relative;
            z-index: 2;
            animation: logoBounceSpin 3s ease-in-out infinite;
          " />
        </div>
        
        <!-- Creative Loading Animation -->
        <div style="margin-bottom: 40px; position: relative; width: 120px; height: 120px; margin-left: auto; margin-right: auto;">
          <!-- DNA Helix Style Loading -->
          <div style="
            position: absolute; 
            width: 100%; height: 100%;
            border-radius: 50%;
            background: conic-gradient(from 0deg, transparent, rgba(255,255,255,0.8), transparent);
            animation: dnaRotate 2s linear infinite;
          "></div>
          <div style="
            position: absolute; 
            top: 10px; left: 10px; right: 10px; bottom: 10px;
            border-radius: 50%;
            background: conic-gradient(from 180deg, transparent, rgba(255,255,255,0.6), transparent);
            animation: dnaRotateReverse 2s linear infinite;
          "></div>
          <div style="
            position: absolute; 
            top: 20px; left: 20px; right: 20px; bottom: 20px;
            border-radius: 50%;
            background: conic-gradient(from 90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: dnaRotate 1.5s linear infinite;
          "></div>
          
          <!-- Center Dot -->
          <div style="
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 20px; height: 20px;
            background: radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,255,255,0.8) 100%);
            border-radius: 50%;
            animation: centerPulse 1.5s ease-in-out infinite;
          "></div>
        </div>
        
        <!-- App Title with Glitch Effect -->
        <div style="position: relative; margin-bottom: 20px;">
          <h1 style="
            margin: 0; 
            font-weight: 900; 
            font-size: 36px; 
            color: white;
            text-shadow: 
              0 0 5px rgba(255,255,255,0.8),
              0 0 10px rgba(255,255,255,0.6),
              0 0 15px rgba(255,255,255,0.4);
            letter-spacing: 4px;
            animation: glitchText 4s ease-in-out infinite;
          " id="main-title">SWA DATA</h1>
        </div>
        
        <!-- Animated Loading Text -->
        <div style="
          font-size: 18px; 
          font-weight: 400;
          margin-bottom: 30px;
          opacity: 0.9;
        ">
          <span id="loading-text" style="
            background: linear-gradient(90deg, rgba(255,255,255,1) 0%, rgba(255,255,255,0.7) 50%, rgba(255,255,255,1) 100%);
            background-size: 200% 100%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmerText 2s linear infinite;
          ">Memuat aplikasi</span>
        </div>
        
        <!-- Wave Progress Bar -->
        <div style="
          width: 250px; 
          height: 8px; 
          background: rgba(255,255,255,0.2); 
          border-radius: 10px; 
          margin: 0 auto;
          overflow: hidden;
          position: relative;
        ">
          <div style="
            position: absolute;
            top: 0; left: 0;
            width: 100%; 
            height: 100%; 
            background: linear-gradient(90deg, 
              rgba(255,107,107,0.8) 0%, 
              rgba(78,205,196,0.8) 25%, 
              rgba(69,183,209,0.8) 50%, 
              rgba(150,206,180,0.8) 75%, 
              rgba(254,202,87,0.8) 100%);
            border-radius: 10px;
            animation: waveProgress 3s ease-in-out infinite;
          "></div>
        </div>
      </div>
      
      <style>
        @keyframes gradientWave {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
        
        @keyframes floatShape1 {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        @keyframes floatShape2 {
          0%, 100% { transform: translateY(0px) scale(1); }
          50% { transform: translateY(-30px) scale(1.1); }
        }
        
        @keyframes floatShape3 {
          0%, 100% { transform: translateY(0px) rotate(45deg); }
          50% { transform: translateY(-25px) rotate(225deg); }
        }
        
        @keyframes floatShape4 {
          0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
          50% { transform: translateY(-15px) rotate(180deg) scale(1.05); }
        }
        
        @keyframes morphBorder {
          0%, 100% { 
            border-radius: 30px; 
            transform: rotate(0deg); 
          }
          25% { 
            border-radius: 50px 20px 50px 20px; 
            transform: rotate(90deg); 
          }
          50% { 
            border-radius: 20px; 
            transform: rotate(180deg); 
          }
          75% { 
            border-radius: 40px 30px 20px 50px; 
            transform: rotate(270deg); 
          }
        }
        
        @keyframes logoBounceSpin {
          0%, 100% { 
            transform: translateY(0px) rotate(0deg) scale(1); 
            filter: drop-shadow(0 20px 40px rgba(0,0,0,0.3)) contrast(1.1) saturate(1.2);
          }
          25% { 
            transform: translateY(-10px) rotate(5deg) scale(1.05); 
            filter: drop-shadow(0 25px 50px rgba(0,0,0,0.4)) contrast(1.2) saturate(1.3);
          }
          50% { 
            transform: translateY(-15px) rotate(0deg) scale(1.1); 
            filter: drop-shadow(0 30px 60px rgba(0,0,0,0.5)) contrast(1.3) saturate(1.4);
          }
          75% { 
            transform: translateY(-10px) rotate(-5deg) scale(1.05); 
            filter: drop-shadow(0 25px 50px rgba(0,0,0,0.4)) contrast(1.2) saturate(1.3);
          }
        }
        
        @keyframes dnaRotate {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        
        @keyframes dnaRotateReverse {
          0% { transform: rotate(360deg); }
          100% { transform: rotate(0deg); }
        }
        
        @keyframes centerPulse {
          0%, 100% { 
            transform: translate(-50%, -50%) scale(1); 
            opacity: 1; 
          }
          50% { 
            transform: translate(-50%, -50%) scale(1.3); 
            opacity: 0.7; 
          }
        }
        
        @keyframes glitchText {
          0%, 90%, 100% { 
            transform: translateX(0); 
            color: white;
            text-shadow: 
              0 0 5px rgba(255,255,255,0.8),
              0 0 10px rgba(255,255,255,0.6),
              0 0 15px rgba(255,255,255,0.4);
          }
          2% { 
            transform: translateX(-2px); 
            color: #ff6b6b;
            text-shadow: 
              2px 0 0 #4ecdc4,
              -2px 0 0 #45b7d1;
          }
          4% { 
            transform: translateX(2px); 
            color: #4ecdc4;
            text-shadow: 
              -2px 0 0 #ff6b6b,
              2px 0 0 #feca57;
          }
        }
        
        @keyframes shimmerText {
          0% { background-position: -200% 0; }
          100% { background-position: 200% 0; }
        }
        
        @keyframes waveProgress {
          0% { 
            transform: translateX(-100%) scaleX(0.8); 
            opacity: 0.8; 
          }
          50% { 
            transform: translateX(0%) scaleX(1); 
            opacity: 1; 
          }
          100% { 
            transform: translateX(100%) scaleX(0.8); 
            opacity: 0.8; 
          }
        }
      </style>
      
      <script>
        // Enhanced loading animations
        const loadingTexts = [
          'Memuat aplikasi...',
          'Menyiapkan database...',
          'Menginisialisasi komponen...',
          'Mengoptimalkan performa...',
          'Hampir selesai...'
        ];
        
        const titleTexts = [
          'SWA DATA',
          'S W A   D A T A',
          'SWA_DATA',
          '{ SWA DATA }',
          'SWA DATA'
        ];
        
        let textIndex = 0;
        let titleIndex = 0;
        
        const loadingTextElement = document.getElementById('loading-text');
        const titleElement = document.getElementById('main-title');
        
        function updateLoadingText() {
          if (loadingTextElement) {
            loadingTextElement.textContent = loadingTexts[textIndex];
            textIndex = (textIndex + 1) % loadingTexts.length;
          }
        }
        
        function updateTitle() {
          if (titleElement) {
            titleElement.textContent = titleTexts[titleIndex];
            titleIndex = (titleIndex + 1) % titleTexts.length;
          }
        }
        
        // Update text every 1.8 seconds
        const textInterval = setInterval(updateLoadingText, 1800);
        
        // Update title every 3 seconds
        const titleInterval = setInterval(updateTitle, 3000);
        
        // Create floating bubbles
        function createBubble() {
          const bubble = document.createElement('div');
          const size = Math.random() * 15 + 5;
          const colors = ['rgba(255,107,107,0.3)', 'rgba(78,205,196,0.3)', 'rgba(69,183,209,0.3)', 'rgba(150,206,180,0.3)', 'rgba(254,202,87,0.3)'];
          const color = colors[Math.floor(Math.random() * colors.length)];
          
          bubble.style.cssText = `
            position: absolute;
            width: ${size}px;
            height: ${size}px;
            background: ${color};
            border-radius: 50%;
            left: ${Math.random() * 100}%;
            bottom: -20px;
            animation: bubbleFloat ${Math.random() * 8 + 6}s ease-out infinite;
            pointer-events: none;
            backdrop-filter: blur(2px);
          `;
          
          const loadingElement = document.querySelector('#app-loading');
          if (loadingElement) {
            loadingElement.appendChild(bubble);
          }
          
          // Remove bubble after animation
          setTimeout(() => {
            if (bubble.parentNode) {
              bubble.parentNode.removeChild(bubble);
            }
          }, 14000);
        }
        
        // Create bubbles periodically
        const bubbleInterval = setInterval(createBubble, 600);
        
        // Add dynamic bubble animation
        const bubbleStyle = document.createElement('style');
        bubbleStyle.textContent = `
          @keyframes bubbleFloat {
            0% { 
              transform: translateY(0px) translateX(0px) scale(0);
              opacity: 0;
            }
            10% {
              opacity: 1;
              transform: scale(1);
            }
            90% {
              opacity: 1;
            }
            100% { 
              transform: translateY(-100vh) translateX(${Math.random() * 100 - 50}px) scale(0);
              opacity: 0;
            }
          }
        `;
        document.head.appendChild(bubbleStyle);
        
        // Clean up when app loads
        window.addEventListener('load', () => {
          setTimeout(() => {
            clearInterval(textInterval);
            clearInterval(titleInterval);
            clearInterval(bubbleInterval);
          }, 1000);
        });
      </script>
    </div>
    
    <div id="root"></div>
    
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- PWA Registration -->
    <script>
      // Hide loading screen when app loads
      window.addEventListener('load', () => {
        const loading = document.getElementById('app-loading');
        if (loading) {
          setTimeout(() => {
            loading.style.opacity = '0';
            setTimeout(() => loading.remove(), 300);
          }, 500);
        }
      });
      
      // Service Worker Registration
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then(registration => {
              console.log('SW registered: ', registration);
            })
            .catch(registrationError => {
              console.log('SW registration failed: ', registrationError);
            });
        });
      }
    </script>
    
    <!-- This is a replit script which adds a banner on the top of the page when opened in development mode outside the replit environment -->
    <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script>
  </body>
</html>